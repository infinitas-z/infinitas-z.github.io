<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Java网络编程 | InfinitasのBlog</title><meta name="author" content="Jason"><meta name="copyright" content="Jason"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="常用API数学类，包装类跳过  时间类，Date,Calendarimport java.util.Calendar;import java.util.Date;public class Demo1 &amp;#123;    public static void main(String[] args) &amp;#123;        Date date &#x3D; new Date();        System">
<meta property="og:type" content="article">
<meta property="og:title" content="Java网络编程">
<meta property="og:url" content="https://infinitas.top/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="InfinitasのBlog">
<meta property="og:description" content="常用API数学类，包装类跳过  时间类，Date,Calendarimport java.util.Calendar;import java.util.Date;public class Demo1 &amp;#123;    public static void main(String[] args) &amp;#123;        Date date &#x3D; new Date();        System">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic.imgdb.cn/item/64f98fa0661c6c8e545682bc.png">
<meta property="article:published_time" content="2023-08-03T06:50:20.000Z">
<meta property="article:modified_time" content="2023-09-07T08:56:22.058Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.imgdb.cn/item/64f98fa0661c6c8e545682bc.png"><link rel="shortcut icon" href="https://pic2.imgdb.cn/item/644fb3780d2dde57776adb99.jpg"><link rel="canonical" href="https://infinitas.top/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":null},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Jason","link":"链接: ","source":"来源: InfinitasのBlog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java网络编程',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-09-07 16:56:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 1
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic2.imgdb.cn/item/644fb3780d2dde57776adb99.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://pic.imgdb.cn/item/64f98fa0661c6c8e545682bc.png')"><nav id="nav"><span id="blog-info"><a href="/" title="InfinitasのBlog"><img class="site-icon" src="https://pic2.imgdb.cn/item/644fb3780d2dde57776adb99.jpg"/><span class="site-name">InfinitasのBlog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java网络编程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-03T06:50:20.000Z" title="发表于 2023-08-03 14:50:20">2023-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-07T08:56:22.058Z" title="更新于 2023-09-07 16:56:22">2023-09-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java网络编程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h2><p>数学类，包装类跳过 </p>
<h3 id="时间类，Date-Calendar"><a href="#时间类，Date-Calendar" class="headerlink" title="时间类，Date,Calendar"></a>时间类，Date,Calendar</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        System.out.println(date);<span class="comment">//系统时间</span></span><br><span class="line">        System.out.println(date.getYear()+<span class="number">1900</span>);<span class="comment">//从1900开始算</span></span><br><span class="line">        System.out.println(date.getMonth()+<span class="number">1</span>);<span class="comment">//从0开始</span></span><br><span class="line">        System.out.println(date.getTime());<span class="comment">//获取时间的毫秒形式 返回long</span></span><br><span class="line">        System.out.println(<span class="string">&quot;==============================&quot;</span>);</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">cal</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        cal.set(Calendar.DATE,cal.get(Calendar.DATE)+<span class="number">30</span>);<span class="comment">//日期增加30天</span></span><br><span class="line">        System.out.println(cal.get(Calendar.YEAR));</span><br><span class="line">        System.out.println(cal.get(Calendar.MONTH)+<span class="number">1</span>);<span class="comment">//还是从0开始</span></span><br><span class="line">        System.out.println(cal.get(Calendar.DATE));</span><br><span class="line">        System.out.println(cal.getTime());<span class="comment">//返回Data对象</span></span><br><span class="line">        cal.setTime(date);<span class="comment">//可以把Date转化为Calendar</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>格式化时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<span class="comment">//自定义格式</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sdf.format(date);<span class="comment">//格式化时间</span></span><br><span class="line">        System.out.println(format);</span><br><span class="line">        System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入一个时间(yyyy-MM-dd HH:mm:ss)&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">inputsdf</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">parse</span> <span class="operator">=</span> inputsdf.parse(s); <span class="comment">//将字符串转换为时间</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">format1</span> <span class="operator">=</span> sdf.format(parse);</span><br><span class="line">        System.out.println(format1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;zxcvbnmasgdhjk&quot;</span>;</span><br><span class="line">        System.out.println(s.charAt(<span class="number">0</span>));<span class="comment">//返回第0个字符</span></span><br><span class="line">        <span class="comment">//字符串是不可变的数据类型</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> s.concat(<span class="string">&quot;哈哈哈&quot;</span>);<span class="comment">//字符串末尾拼接</span></span><br><span class="line">        System.out.println(s1);</span><br><span class="line">        System.out.println(s1.contains(<span class="string">&quot;哈哈哈&quot;</span>));<span class="comment">//判断字符串中是否包含该字符串，返回布尔</span></span><br><span class="line">        <span class="comment">// startsWith 或 endsWith 判断已XXX结尾或开头</span></span><br><span class="line">        System.out.println(s1.endsWith(<span class="string">&quot;哈哈哈&quot;</span>));</span><br><span class="line">        <span class="comment">// equals 或 equalsIgnoreCase 判断字符串是否相同，后者忽视大小写</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;1or2&quot;</span>;</span><br><span class="line">        <span class="comment">//替换指定字符串</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">replace</span> <span class="operator">=</span> s2.replace(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line">        System.out.println(replace);</span><br><span class="line">        <span class="comment">//split 切割字符串,返回数组</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span><span class="string">&quot;11_11_123_132&quot;</span>;</span><br><span class="line">        String[] s3 = s4.split(<span class="string">&quot;_&quot;</span>);</span><br><span class="line">        System.out.println(s3[<span class="number">2</span>]);</span><br><span class="line">        <span class="comment">//substring(起始位置，终止位置)，终止位置取不到</span></span><br><span class="line">        <span class="comment">//trim() 去除左右两端多余的空格</span></span><br><span class="line">        <span class="comment">/*valueOf(xxx) 将参数返回为字符串，</span></span><br><span class="line"><span class="comment">        也可也把变量加空字符串(xx+&quot;&quot;)来变成字符串*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在一个字符串数组中，输出每个同学的平均分</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">double</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">       String[] stus = &#123;<span class="string">&quot;小绿_数学_12_语文_33_英语_42&quot;</span>,<span class="string">&quot;小红_数学_54_语文_33_英语_97&quot;</span>,<span class="string">&quot;小黄_数学_92_语文_23_英语_82&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String s : stus) &#123;</span><br><span class="line">            String[] s1 = s.split(<span class="string">&quot;_&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;\\d+&quot;</span>);<span class="comment">//正则表达式，匹配一个或多个字符</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span> ;i&lt;s1.length;i++) &#123;</span><br><span class="line">                <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(s1[i]);<span class="comment">//创建matcher对象进行匹配操作</span></span><br><span class="line">                <span class="keyword">if</span>(matcher.find())&#123;<span class="comment">//查找匹配项</span></span><br><span class="line">                    sum+=Integer.parseInt(s1[i]);</span><br><span class="line">                &#125;<span class="comment">//查找匹配项</span></span><br><span class="line">                <span class="keyword">if</span>(s1[i].equals(<span class="string">&quot;小绿&quot;</span>) || s1[i].equals(<span class="string">&quot;小红&quot;</span>) || s1[i].equals(<span class="string">&quot;小黄&quot;</span>))&#123;</span><br><span class="line">                     name = s1[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(i==s1.length-<span class="number">1</span>)&#123;</span><br><span class="line">                    System.out.println(name+<span class="string">&quot;的平均分是&quot;</span>+sum/<span class="number">3</span>);</span><br><span class="line">                    sum=<span class="number">0</span>;</span><br><span class="line">                    name=<span class="string">&quot;&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="StringBuffer和StringBuilder"><a href="#StringBuffer和StringBuilder" class="headerlink" title="StringBuffer和StringBuilder"></a>StringBuffer和StringBuilder</h3><p>两者类似，都代表可变字符串，线程上的区别,一个线程同步一个线程不同步，appen():往后拼接字符串,insert（）指定位置插入字符串,</p>
<p>toString,将其变为字符串</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();<span class="comment">//默认16容量，超出时自动提升</span></span><br><span class="line">sb.capacity() <span class="comment">//返回当前容量</span></span><br><span class="line">sb.append(<span class="string">&quot;Hello,world!&quot;</span>) <span class="comment">//拼接</span></span><br><span class="line">sb.reverse() <span class="comment">//反转</span></span><br><span class="line">sb.replace(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&quot;你好&quot;</span>) <span class="comment">//索引部分替换成自定义字符串</span></span><br><span class="line">sb.delete(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">//删除索引部分</span></span><br><span class="line">sb.insert(<span class="number">3</span>,<span class="string">&quot;ii&quot;</span>) <span class="comment">//索引部分插入一段</span></span><br></pre></td></tr></table></figure>



<h3 id="DecimalFormat"><a href="#DecimalFormat" class="headerlink" title="DecimalFormat"></a>DecimalFormat</h3><p>用于格式化小数</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">     <span class="type">double</span> d=<span class="number">10</span>/<span class="number">3.0</span>;</span><br><span class="line">      System.out.println(d);</span><br><span class="line">      <span class="comment">//.小数点</span></span><br><span class="line">      <span class="comment">//0和# 表示数字</span></span><br><span class="line">      <span class="comment">//保留两位小数</span></span><br><span class="line">      <span class="type">DecimalFormat</span> <span class="variable">decimalFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecimalFormat</span>(<span class="string">&quot;.00&quot;</span>);</span><br><span class="line">      <span class="comment">//格式化</span></span><br><span class="line">      <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> decimalFormat.format(d);</span><br><span class="line">      System.out.println(format);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>案例 用时间戳写个小案例,计算10s之内的手速</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;按Enter键，开始！&quot;</span>);</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        scanner.nextLine();</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        calendar.set(Calendar.SECOND,Calendar.SECOND+<span class="number">10</span>); <span class="comment">//增加10s</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">end</span> <span class="operator">=</span> calendar.getTime(); <span class="comment">//获取data对象</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> end.getTime(); <span class="comment">//获取时间戳</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (endTime - <span class="keyword">new</span> <span class="title class_">Date</span>().getTime() &gt;=<span class="number">0</span>)&#123; </span><br><span class="line">            scanner.nextLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;你按了&quot;</span>);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;你一共按了&quot;</span>+count);</span><br><span class="line">        <span class="type">DecimalFormat</span> <span class="variable">decimalFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecimalFormat</span>(<span class="string">&quot;.00&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;你的手速是&quot;</span>+decimalFormat.format(count / <span class="number">10.0</span>)+<span class="string">&quot;次/秒&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><p>ArrayList 和 LinkedList区别，ArrayList的内存是连续的，自动扩容。LinkedList的内存可以不连续，下一个内存位置是通过后继指针去寻找，LinkedList查询效率低，但是LinkedList在增删元素的时候效率高。他删除元素只需让后继指针指向另一个就可以</p>
<p>在列表中取出来的数据都是Object类型的，</p>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>HashSet:无序和不重复    TreeSet:默认进行排序和不重复</p>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>HashMap:    自动排序  </p>
<p>如果put了相同的key，原来的key会被顶掉，KeySet()把Map中的所有的Key打包成一个Set集合</p>
<h3 id="iterator-迭代器"><a href="#iterator-迭代器" class="headerlink" title="iterator(迭代器)"></a>iterator(迭代器)</h3><p>作用就是避免集合的内部结构暴露</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"><span class="comment">//        ArrayList&lt;String&gt; list = new ArrayList();</span></span><br><span class="line"><span class="comment">//        list.add(&quot;a&quot;);</span></span><br><span class="line"><span class="comment">//        list.add(&quot;b&quot;);</span></span><br><span class="line"><span class="comment">//        list.add(&quot;c&quot;);</span></span><br><span class="line"><span class="comment">//        list.add(&quot;d&quot;);</span></span><br><span class="line"><span class="comment">//        Iterator&lt;String&gt; iterator = list.iterator();</span></span><br><span class="line"><span class="comment">//        //next拿出下一个元素</span></span><br><span class="line"><span class="comment">//        String next = iterator.next();</span></span><br><span class="line"><span class="comment">//        System.out.println(next);</span></span><br><span class="line"><span class="comment">//        //hasNext 判断下一个元素是否是空的</span></span><br><span class="line"><span class="comment">//        while (iterator.hasNext())&#123;</span></span><br><span class="line"><span class="comment">//            String next2 = iterator.next();</span></span><br><span class="line"><span class="comment">//            System.out.println(next2);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">Map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        Map.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        Map.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        Map.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        Map.put(<span class="string">&quot;4&quot;</span>,<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">        <span class="comment">//方法一,把key生成一个set集合然后去获取</span></span><br><span class="line"><span class="comment">//        Set setkey = Map.keySet();</span></span><br><span class="line"><span class="comment">//        Iterator iterator = setkey.iterator();</span></span><br><span class="line"><span class="comment">//        while(iterator.hasNext())&#123;</span></span><br><span class="line"><span class="comment">//            String next = (String) iterator.next();</span></span><br><span class="line"><span class="comment">//            System.out.println(Map.get(next));</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//方法二 生成Entry，直接获得</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> Map.entrySet();</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">next</span> <span class="operator">=</span> (Map.Entry)iterator.next();</span><br><span class="line">            System.out.println(next.getKey());</span><br><span class="line">            System.out.println(next.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Collections工具类"><a href="#Collections工具类" class="headerlink" title="Collections工具类"></a>Collections工具类</h3><p>sort(List list)排序，默认升序 reverse(List list)反转集合中的元素</p>
<h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><p>流的分类：</p>
<ol>
<li>按照读写方向来分，分为输入流和输出流</li>
<li>按照读写内容区分，分为字节流和字符流 ,字节流适用于非文本信息读取</li>
<li>按照流的功能区分，分为节点流和处理流</li>
</ol>
<h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//默认从根目录创建</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;abc/student.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//创建新的文件</span></span><br><span class="line">            <span class="comment">//file.createNewFile();</span></span><br><span class="line">            System.out.println(file.getParentFile());<span class="comment">//拿到上一层文件夹的对象</span></span><br><span class="line">            System.out.println(file.getParent()); <span class="comment">//返回父级路径(字符串)、</span></span><br><span class="line">            file.mkdir();<span class="comment">//创建单层目录</span></span><br><span class="line">            file.mkdirs();<span class="comment">//创建多级目录</span></span><br><span class="line">            file.renameTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;abc/new.txt&quot;</span>)); <span class="comment">//重命名</span></span><br><span class="line">            file.delete();<span class="comment">//删除文件</span></span><br><span class="line">            <span class="comment">//查看相关</span></span><br><span class="line">            System.out.println(file.exists());<span class="comment">//查看文件是否存在</span></span><br><span class="line">            file.isAbsolute();<span class="comment">//查看文件是否为绝对路径</span></span><br><span class="line">            file.length();<span class="comment">//查看文件的大小 字节为单位</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//创建文件的基本步骤</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;abc/def/new_2.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//判断上层文件是否存在</span></span><br><span class="line">            <span class="keyword">if</span>(!file1.getParentFile().exists())&#123;</span><br><span class="line">                file1.mkdirs();</span><br><span class="line">            &#125;</span><br><span class="line">            file1.createNewFile();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="节点流"><a href="#节点流" class="headerlink" title="节点流"></a>节点流</h3><p>节点流：直接连接在文件上的，处理流：套在其他流上的</p>
<table>
<thead>
<tr>
<th></th>
<th>输入</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>字节流</td>
<td>InputStream(读数据)</td>
<td>OutputStream(写数据)</td>
</tr>
<tr>
<td>字符流</td>
<td>Reader</td>
<td>Writer</td>
</tr>
</tbody></table>
<p>FileinputStream,读文件操作</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="type">FileInputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">           <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">           <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">           <span class="comment">//获取返回的字符长度</span></span><br><span class="line">           <span class="keyword">while</span>((len=inputStream.read(bytes))!=-<span class="number">1</span>)&#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,len);</span><br><span class="line">               System.out.println(string);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">//清空流，关闭流</span></span><br><span class="line">           inputStream.flush();</span><br><span class="line">           inputStream.close();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>FileOutputStream :写入文件操作</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">//默认先清空文件后写入数据，后面加上true可以直接写入</span></span><br><span class="line">           <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>), <span class="literal">true</span>);</span><br><span class="line">           <span class="comment">//转换为字节写入数据</span></span><br><span class="line">           fileOutputStream.write(<span class="string">&quot;Hello&quot;</span>.getBytes());</span><br><span class="line">           fileOutputStream.close();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>FileReader  一个个读字符 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">            <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len=fileReader.read(chars))!=-<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(chars,<span class="number">0</span>,len));</span><br><span class="line">            &#125;</span><br><span class="line">            fileReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>FileWriter</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">FileWriter</span> <span class="variable">fileWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>),<span class="literal">true</span>);</span><br><span class="line">          fileWriter.write(<span class="string">&quot;你好&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="缓冲流（处理流）"><a href="#缓冲流（处理流）" class="headerlink" title="缓冲流（处理流）"></a>缓冲流（处理流）</h3><p>带有缓冲区的数据流，在文件中拿字节然后经过缓冲区二次处理在传输</p>
<p>BufferedinputStream,BufferedOutputStream,BufferedReader,BufferedWriter</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//因为缓冲流是套节点流，所以要在里面新建一个节点流读取文件</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bufferedInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>)));</span><br><span class="line">        <span class="comment">//字符流对应字符流</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>)));</span><br><span class="line">        <span class="comment">//读取文本文件一行</span></span><br><span class="line">        System.out.println(bufferedReader.readLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="转换流-处理流"><a href="#转换流-处理流" class="headerlink" title="转换流 (处理流)"></a>转换流 (处理流)</h3><p>只能字节流转换成字符流</p>
<p>InputStreamReader  OutputStreamWriter</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//字节流转字符流</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//把字节流转换成字符流，System.in是字节流</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">bs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        System.out.println(<span class="string">&quot;从System.in接收到的是:&quot;</span>+bs.readLine());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//字符流给字节流的桥接，使用指定字符集将其中的字符编码转换为字节</span></span><br></pre></td></tr></table></figure>

<h3 id="对象流-处理流"><a href="#对象流-处理流" class="headerlink" title="对象流(处理流)"></a>对象流(处理流)</h3><p>ObjectinputStream , ObjectOutputStream</p>
<p>我们对对象进行序列化操作，因为将对象存到硬盘时，要把对象转换为字节，需要给类添加一个实现Serialiable接口，该类就可以自动被序列化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//先对对象进行序列化操作 实体类继承Serialiable接口 </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//序列化操作 将对象转换为字节</span></span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;person.dat&quot;</span>)));</span><br><span class="line">        <span class="type">User</span> <span class="variable">milet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>, <span class="string">&quot;milet&quot;</span>, <span class="number">29</span>);</span><br><span class="line">        oos.writeObject(milet);</span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//再从创建好的字节文件中 反序列化，将字节转换为对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//进行反序列化，将字节转换成对象，要在类中加入无参构造器</span></span><br><span class="line">       ObjectInputStream ois= <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;person.dat&quot;</span>)));</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User)ois.readObject();</span><br><span class="line">        System.out.println(user.toString());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>小练习</p>
<p>用合适的方法文件中的李白改为李太白</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">唐诗三百首</span></span><br><span class="line"><span class="comment">1.静夜思,李太白,床前明月光，疑是地上霜。举头望明月，低头思故乡。</span></span><br><span class="line"><span class="comment">2.望庐山瀑布，李太白，日照香炉生紫烟，遥看瀑布挂前川，飞流直下三千尺，疑是银河落九天。</span></span><br><span class="line"><span class="comment">3.朝辞白帝彩云间，李太白，千里江陵一日还。两岸猿声啼不住，轻舟已过万重山</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//采用副本文件替换源文件的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">origin_file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;唐诗.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">new_file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;new.txt&quot;</span>);</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(origin_file));</span><br><span class="line">        <span class="comment">//生成副本文件</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(new_file));</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine())!=<span class="literal">null</span>)&#123;</span><br><span class="line">            line =line.replace(<span class="string">&quot;李白&quot;</span>,<span class="string">&quot;李太白&quot;</span>);</span><br><span class="line">            bw.write(line);</span><br><span class="line">            <span class="comment">//每一次都另起一行</span></span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">        bw.flush();</span><br><span class="line">        bw.close();</span><br><span class="line">        <span class="comment">//！ 需要先关闭流 再进行文件操作</span></span><br><span class="line">        <span class="comment">//删除源文件，将副本文件改为新文件</span></span><br><span class="line">        origin_file.delete();</span><br><span class="line">        new_file.renameTo(origin_file);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><ol>
<li><p>继承Tread类 ，重写run方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MyThread 类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//子线程执行的内容写在run中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;子线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Demo1</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">myThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="comment">//启动子线程</span></span><br><span class="line">        myThread.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;我是主线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>实现Runable接口</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//继承Runable接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//子线程执行的内容写在run中</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;子线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实现自己的runable </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//先创建Runable的对象</span></span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">myRunable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myRunable);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>使用Executor框架实现，有返回值 ,转载大佬</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/aboy123/article/details/38307539?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8=">https://blog.csdn.net/aboy123/article/details/38307539?ydreferer=aHR0cHM6Ly9jbi5iaW5nLmNvbS8%3D</a></p>
</li>
</ol>
<h3 id="线程操作"><a href="#线程操作" class="headerlink" title="线程操作"></a>线程操作</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">.setPriority(); <span class="comment">//设置多个线程的优先级 10为最大</span></span><br><span class="line">.sleep() <span class="comment">//设置线程休眠事件 (毫秒)</span></span><br><span class="line">.join() <span class="comment">//让主线程等待子线程运行完毕</span></span><br><span class="line">.<span class="keyword">yield</span>() <span class="comment">//让出CPU</span></span><br><span class="line">.interrupt() <span class="comment">//打断正在睡觉的子线程</span></span><br></pre></td></tr></table></figure>

<h3 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h3><p>基本使用</p>
<p>当多个线程共享同一个资源时，我们可以在某一个线程访问此资源时，暂时封锁该线程。等待执行结束时，释放此锁，再运行其他线程 ,缺点 ，有死锁风险</p>
<p>方法一 synchronized关键词 ,有死锁风险，使用场景，两个线程都共享同一个资源并且都会去修改这个资源时。</p>
<p>模拟一个银行取钱的流程,Account类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">double</span> balance)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.balance=balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//synchronized 一旦进入到此方法，锁定acc</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">getMoney</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.balance &lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;无钱可取&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;取钱,还有&quot;</span>+<span class="built_in">this</span>.balance);</span><br><span class="line">        <span class="built_in">this</span>.balance-=<span class="number">1000</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;还剩&quot;</span>+<span class="built_in">this</span>.balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建线程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetMoneyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Account acc;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">GetMoneyThread</span><span class="params">(Account acc)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.acc=acc; <span class="comment">// 保证柜台和ATM用的是同一个账户</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">       acc.getMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Test类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">1000</span>);</span><br><span class="line">        <span class="type">GetMoneyThread</span> <span class="variable">atm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetMoneyThread</span>(account);</span><br><span class="line">        <span class="type">GetMoneyThread</span> <span class="variable">table</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetMoneyThread</span>(account);</span><br><span class="line">        atm.start();</span><br><span class="line">        table.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法二：在方法内部使用synchronized(){}语句块,对特定的对象上锁 (常用)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getMoney</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123; <span class="comment">//加入synchronized语句块</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.balance &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;无钱可取&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;取钱,还有&quot;</span> + <span class="built_in">this</span>.balance);</span><br><span class="line">            <span class="built_in">this</span>.balance -= <span class="number">1000</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;还剩&quot;</span> + <span class="built_in">this</span>.balance);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>方法三：手动上锁，需要手动去掉锁</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();<span class="comment">//创建一个锁</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">double</span> balance)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.balance=balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//synchronized 一旦进入到此方法，锁定acc</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getMoney</span><span class="params">()</span> &#123;</span><br><span class="line">        lock.lock(); <span class="comment">//上锁</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.balance &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;无钱可取&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;取钱,还有&quot;</span> + <span class="built_in">this</span>.balance);</span><br><span class="line">            <span class="built_in">this</span>.balance -= <span class="number">1000</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;还剩&quot;</span> + <span class="built_in">this</span>.balance);</span><br><span class="line">        lock.unlock();<span class="comment">//解锁</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><p>如果有互相调用的方法被锁定，慎用synchronized</p>
<h3 id="生产者消费者模型"><a href="#生产者消费者模型" class="headerlink" title="生产者消费者模型"></a>生产者消费者模型</h3><p>BlockingQueue 队列 阻塞队列:当队列中没有数据时，需要拿数据时，队列会将程序阻塞，阻塞到有数据位置再继续工作,模拟一个做面包，买面包的示例</p>
<p>生产者线程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 生产者线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MakeBreadThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">//线程安全的自增，如果用int进行自增，有可能出现数据不一致的情况</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AtomicInteger</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line">    <span class="comment">//准备装面包的缓冲区(阻塞队列)</span></span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Bread&gt; breadQueue = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MakeBreadThread</span><span class="params">(BlockingQueue&lt;Bread&gt; breadQueue)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.breadQueue =breadQueue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;法式&quot;</span>+i.incrementAndGet();</span><br><span class="line">            <span class="type">Bread</span> <span class="variable">bread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bread</span>(name);<span class="comment">//相当于i++</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                breadQueue.put(bread);<span class="comment">//添加数据，加入队列</span></span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;制作了一个面包&quot;</span>+name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>产品类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 产品</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Bread</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>消费者线程</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 消费者线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuyBreadThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Bread&gt; breadQueue;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BuyBreadThread</span><span class="params">(BlockingQueue&lt;Bread&gt; breadQueue)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.breadQueue=breadQueue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">Bread</span> <span class="variable">bread</span> <span class="operator">=</span> breadQueue.take();</span><br><span class="line">                System.out.println(<span class="string">&quot;我是发送的地方，我购买了&quot;</span>+bread.getName());</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        LinkedBlockingQueue&lt;Bread&gt; breads = <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//创建三个生产者</span></span><br><span class="line">        <span class="type">BuyBreadThread</span> <span class="variable">buyThread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyBreadThread</span>(breads);</span><br><span class="line">        <span class="type">BuyBreadThread</span> <span class="variable">buyThread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyBreadThread</span>(breads);</span><br><span class="line">        <span class="type">BuyBreadThread</span> <span class="variable">buyThread3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyBreadThread</span>(breads);</span><br><span class="line">        <span class="comment">//创建两个消费者</span></span><br><span class="line">        <span class="type">MakeBreadThread</span> <span class="variable">makeThread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MakeBreadThread</span>(breads);</span><br><span class="line">        <span class="type">MakeBreadThread</span> <span class="variable">makeThread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MakeBreadThread</span>(breads);</span><br><span class="line"></span><br><span class="line">        buyThread1.start();</span><br><span class="line">        buyThread2.start();</span><br><span class="line">        buyThread3.start();</span><br><span class="line">        makeThread1.start();</span><br><span class="line">        makeThread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>练习：模拟运用多线程，火车站4个窗口卖1000张票 。</p>
<p>Ticket类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Ticket</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Ticket</span><span class="params">(<span class="type">int</span> id, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TicketThrea类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TicketsThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Ticket&gt; ticketList;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AtomicInteger</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TicketsThread</span><span class="params">(List&lt;Ticket&gt; ticketList,String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.ticketList = ticketList;</span><br><span class="line">        <span class="built_in">super</span>.setName(name);<span class="comment">//设置名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//把票卖到最后四张时，分别把4张票分给四个不同的线程，避免再卖到999时，其他三个线程会报错自增</span></span><br><span class="line">            <span class="keyword">if</span>(i.get()+<span class="number">4</span>&lt;ticketList.size())&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">200</span>));</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//实现自增，模拟卖票</span></span><br><span class="line">                <span class="type">Ticket</span> <span class="variable">ticket</span> <span class="operator">=</span> ticketList.get(i.incrementAndGet());</span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName()+<span class="string">&quot;卖出&quot;</span>+ticket.getName());<span class="comment">//打印车票信息</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName()+<span class="string">&quot;卖完了&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Test类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;Ticket&gt; tickets = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//生成1000张票</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            <span class="type">Ticket</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ticket</span>(i, <span class="string">&quot;火车票&quot;</span> + i);</span><br><span class="line">            tickets.add(ticket);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TicketsThread</span> <span class="variable">tt1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketsThread</span>(tickets, <span class="string">&quot;窗口1&quot;</span>);</span><br><span class="line">        <span class="type">TicketsThread</span> <span class="variable">tt2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketsThread</span>(tickets, <span class="string">&quot;窗口2&quot;</span>);</span><br><span class="line">        <span class="type">TicketsThread</span> <span class="variable">tt3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketsThread</span>(tickets, <span class="string">&quot;窗口3&quot;</span>);</span><br><span class="line">        <span class="type">TicketsThread</span> <span class="variable">tt4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketsThread</span>(tickets, <span class="string">&quot;窗口4&quot;</span>);</span><br><span class="line">        tt1.start();</span><br><span class="line">        tt2.start();</span><br><span class="line">        tt3.start();</span><br><span class="line">        tt4.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h2><h3 id="TCP编程"><a href="#TCP编程" class="headerlink" title="TCP编程"></a>TCP编程</h3><p>模拟服务器和客户端之间的通信,先建立两个线程类，接收消息和发送消息</p>
<p>SendThread类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SendThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SendThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket=socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(os));</span><br><span class="line">                bw.write(sc.nextLine());</span><br><span class="line">                bw.newLine();</span><br><span class="line">                bw.flush();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RaceThead类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RaceThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="comment">//传入socket</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RaceThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket= socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">                <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is));</span><br><span class="line">                <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">                System.out.println(<span class="string">&quot;接收到数据是&quot;</span>+s);</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Server类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sever</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9998</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> ss.accept();</span><br><span class="line">        <span class="comment">//线程1 服务器接收数据</span></span><br><span class="line">        <span class="type">RaceThread</span> <span class="variable">rt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RaceThread</span>(socket);</span><br><span class="line">        rt.start();</span><br><span class="line">        <span class="comment">//线程2 服务器发送数据</span></span><br><span class="line">        <span class="type">SendThread</span> <span class="variable">st</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendThread</span>(socket);</span><br><span class="line">        st.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Client类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">9998</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;连接服务器成功&quot;</span>);</span><br><span class="line">        <span class="comment">//线程1 服务器接收数据</span></span><br><span class="line">        <span class="type">RaceThread</span> <span class="variable">rt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RaceThread</span>(socket);</span><br><span class="line">        rt.start();</span><br><span class="line">        <span class="comment">//线程2 服务器发送数据</span></span><br><span class="line">        <span class="type">SendThread</span> <span class="variable">st</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendThread</span>(socket);</span><br><span class="line">        st.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现多人聊天程序</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工具类，负责发送和接受消息的实现</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SocketUtil</span> &#123;</span><br><span class="line">    <span class="comment">//发送消息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">(Socket s , String msg)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> s.getOutputStream();</span><br><span class="line">            <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(os));</span><br><span class="line">            bw.write(msg);</span><br><span class="line">            bw.newLine();</span><br><span class="line">            bw.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//接收消息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">recesive</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">            <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is));</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接收消息的线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RaceThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="comment">//传入socket</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RaceThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket= socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> SocketUtil.recesive(socket);</span><br><span class="line">            System.out.println(<span class="string">&quot;接收到的消息&quot;</span>+content);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 发送消息的线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SendThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SendThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket=socket;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">           <span class="comment">//把发送消息的功能单独提取出来</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">            SocketUtil.send(socket,content);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务器发送和接收消息的线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerMsgThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Socket&gt; socketList;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerMsgThread</span><span class="params">(Socket socket,List&lt;Socket&gt; socketList)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket= socket;</span><br><span class="line">        <span class="built_in">this</span>.socketList=socketList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//接收消息</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> SocketUtil.recesive(socket);</span><br><span class="line">            <span class="comment">//把收到的消息发送出去</span></span><br><span class="line">            <span class="keyword">for</span> (Socket socket1 : socketList) &#123;</span><br><span class="line">                <span class="keyword">if</span>(socket1.equals(<span class="built_in">this</span>.socket))&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                SocketUtil.send(socket1,content);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">9998</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;连接服务器成功&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">RaceThread</span>(socket).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SendThread</span>(socket).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9998</span>);</span><br><span class="line">        List&lt;Socket&gt; socketList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> ss.accept();</span><br><span class="line">            socketList.add(socket);</span><br><span class="line">            <span class="comment">//准备一个线程接收信息，然后分别发送给其他客户端</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ServerMsgThread</span>(socket,socketList).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="UDP编程"><a href="#UDP编程" class="headerlink" title="UDP编程"></a>UDP编程</h3><p>Server类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//不管是发送还是接收都要使用DatagramSocket对象</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9000</span>);</span><br><span class="line">        <span class="comment">//准备接收数据,dp用来接收数据,传入字节数组和容量</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes,<span class="number">1024</span>);</span><br><span class="line">        <span class="comment">//接收数据</span></span><br><span class="line">        ds.receive(dp);</span><br><span class="line">        <span class="comment">//数据在字节数组中</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, dp.getLength());</span><br><span class="line">        System.out.println(<span class="string">&quot;从客户端接收到的数据是&quot;</span>+s);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//发送数据给客户端</span></span><br><span class="line">        <span class="type">byte</span>[] bytes1 = <span class="string">&quot;你也不错&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">send_dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes1,bytes1.length, InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>),<span class="number">9998</span>);</span><br><span class="line">        ds.send(send_dp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Client类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//从客户端发送数据</span></span><br><span class="line">        <span class="comment">//1.DatagramSocket 码头</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9998</span>);</span><br><span class="line">        <span class="comment">//传递的数据需要字节格式,Packet中需要传入属数据，数据长度，对方地址，端口号</span></span><br><span class="line">        <span class="type">byte</span>[] bs = <span class="string">&quot;你好&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bs, bs.length, InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>),<span class="number">9000</span>);</span><br><span class="line">        <span class="comment">//发送数据</span></span><br><span class="line">        ds.send(dp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收服务端传过来的数据</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">dp2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, <span class="number">1024</span>);</span><br><span class="line">        ds.receive(dp2);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, dp2.getLength());</span><br><span class="line">        System.out.println(<span class="string">&quot;服务端接受的数据有&quot;</span>+s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>UDP模拟多人聊天室</p>
<p>原理，多个客户端给服务器发送信息，再由服务器分发给其他客户端，通过用户列表来存入客户端信息</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 发送信息的线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SendThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DatagramSocket ds;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SendThread</span><span class="params">(DatagramSocket ds)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.ds=ds;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">                <span class="type">byte</span>[] bs =s.getBytes(); <span class="comment">//转化为字节数组</span></span><br><span class="line">                <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bs, bs.length, InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>), <span class="number">9999</span>);</span><br><span class="line">                ds.send(packet);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接收数据线程</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReceThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DatagramSocket ds;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ReceThread</span><span class="params">(DatagramSocket ds)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.ds = ds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                <span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, <span class="number">1024</span>);</span><br><span class="line">                ds.receive(dp);</span><br><span class="line">                System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, dp.getLength()));</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//为了测试方便，变成用户自己输入端口号</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入你的端口号&quot;</span>);</span><br><span class="line">        <span class="comment">//为了让输入时避免回车键，把输入内容变成字符串转数字</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> Integer.parseInt(sc.nextLine());</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(port);</span><br><span class="line">        <span class="comment">//需要在客户端聊天之前发消息给服务器 ，这样才能在聊天前可以把客户端的ip和port加入到clientlist中</span></span><br><span class="line">        <span class="type">byte</span>[] bs =<span class="string">&quot;有新客户端进入&quot;</span>.getBytes(); <span class="comment">//转化为字节数组</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bs, bs.length, InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>), <span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//启动线程</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SendThread</span>(ds).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ReceThread</span>(ds).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务器端</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;服务器开启等待连接&quot;</span>);</span><br><span class="line">        <span class="comment">//客户端列表，存放客户端ip和端口号</span></span><br><span class="line">        List&lt;HashMap&lt;String,String&gt;&gt; clientList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//接收数据</span></span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, <span class="number">1024</span>);</span><br><span class="line">            ds.receive(dp);</span><br><span class="line">            <span class="comment">//获取端口号和ip</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">ip</span> <span class="operator">=</span> dp.getAddress().getHostAddress();</span><br><span class="line">            <span class="type">String</span> <span class="variable">port</span> <span class="operator">=</span> dp.getPort()+<span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="comment">//判断客户端是否首次进入</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span><span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (HashMap&lt;String, String&gt; list : clientList) &#123;</span><br><span class="line">                <span class="keyword">if</span>(list.get(<span class="string">&quot;ip&quot;</span>).equals(ip) &amp;&amp; list.get(<span class="string">&quot;port&quot;</span>).equals(port))&#123;</span><br><span class="line">                    <span class="comment">//不是首次进入</span></span><br><span class="line">                    flag =<span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag=<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="comment">//把ip和端口加入到客户端列表中</span></span><br><span class="line">                HashMap&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">                map.put(<span class="string">&quot;ip&quot;</span>,ip);</span><br><span class="line">                map.put(<span class="string">&quot;port&quot;</span>,port);</span><br><span class="line">                clientList.add(map);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//其他客户端发送数据</span></span><br><span class="line">            <span class="keyword">for</span> (HashMap&lt;String, String&gt; list : clientList) &#123;</span><br><span class="line">                <span class="keyword">if</span>(list.get(<span class="string">&quot;ip&quot;</span>).equals(ip) &amp;&amp; list.get(<span class="string">&quot;port&quot;</span>).equals(port))&#123;</span><br><span class="line">                    <span class="comment">//如果与你自己的ip相等，就跳过这次数据传输</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">DatagramPacket</span> <span class="variable">dp2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, <span class="number">0</span>, dp.getLength(), InetAddress.getByName(list.get(<span class="string">&quot;ip&quot;</span>)), Integer.parseInt(list.get(<span class="string">&quot;port&quot;</span>)));</span><br><span class="line">                    ds.send(dp2);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Java补充"><a href="#Java补充" class="headerlink" title="Java补充"></a>Java补充</h3></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://infinitas.top">Jason</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://infinitas.top/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">https://infinitas.top/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://infinitas.top" target="_blank">InfinitasのBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></div><div class="post_share"><div class="social-share" data-image="https://pic.imgdb.cn/item/64f98fa0661c6c8e545682bc.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/05/Spring6/" title="Spring6"><img class="cover" src="https://pic.imgdb.cn/item/64f98fa4661c6c8e54568355.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Spring6</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/29/%E4%BB%A3%E7%A0%81%E9%9B%A8/" title="用TypeScript实现好玩的代码雨"><img class="cover" src="https://pic.imgdb.cn/item/64c50fcc1ddac507ccd0b219.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">用TypeScript实现好玩的代码雨</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/06/01/ChatRoom/" title="Java实现简易聊天室"><img class="cover" src="https://pic.imgdb.cn/item/6478a138f024cca1739bf681.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-01</div><div class="title">Java实现简易聊天室</div></div></a></div><div><a href="/2023/07/29/%E4%BB%A3%E7%A0%81%E9%9B%A8/" title="用TypeScript实现好玩的代码雨"><img class="cover" src="https://pic.imgdb.cn/item/64c50fcc1ddac507ccd0b219.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-29</div><div class="title">用TypeScript实现好玩的代码雨</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic2.imgdb.cn/item/644fb3780d2dde57776adb99.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jason</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/infinitas-z/infinitas-z.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8API"><span class="toc-number">1.</span> <span class="toc-text">常用API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%B1%BB%EF%BC%8CDate-Calendar"><span class="toc-number">1.1.</span> <span class="toc-text">时间类，Date,Calendar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.2.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StringBuffer%E5%92%8CStringBuilder"><span class="toc-number">1.3.</span> <span class="toc-text">StringBuffer和StringBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DecimalFormat"><span class="toc-number">1.4.</span> <span class="toc-text">DecimalFormat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList"><span class="toc-number">2.1.</span> <span class="toc-text">ArrayList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set"><span class="toc-number">2.2.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map"><span class="toc-number">2.3.</span> <span class="toc-text">Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iterator-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.4.</span> <span class="toc-text">iterator(迭代器)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">2.5.</span> <span class="toc-text">Collections工具类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IO%E6%B5%81"><span class="toc-number">3.</span> <span class="toc-text">IO流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#File"><span class="toc-number">3.1.</span> <span class="toc-text">File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E6%B5%81"><span class="toc-number">3.2.</span> <span class="toc-text">节点流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81%EF%BC%88%E5%A4%84%E7%90%86%E6%B5%81%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">缓冲流（处理流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81-%E5%A4%84%E7%90%86%E6%B5%81"><span class="toc-number">3.4.</span> <span class="toc-text">转换流 (处理流)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%B5%81-%E5%A4%84%E7%90%86%E6%B5%81"><span class="toc-number">3.5.</span> <span class="toc-text">对象流(处理流)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">实现方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">4.2.</span> <span class="toc-text">线程操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="toc-number">4.3.</span> <span class="toc-text">线程同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-number">4.4.</span> <span class="toc-text">死锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.5.</span> <span class="toc-text">生产者消费者模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E7%BC%96%E7%A8%8B"><span class="toc-number">5.1.</span> <span class="toc-text">TCP编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E7%BC%96%E7%A8%8B"><span class="toc-number">5.2.</span> <span class="toc-text">UDP编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java%E8%A1%A5%E5%85%85"><span class="toc-number">5.3.</span> <span class="toc-text">Java补充</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/02/19/Docker%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker学习笔记"><img src="https://pic.imgdb.cn/item/65d2f3669f345e8d030f431f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker学习笔记"/></a><div class="content"><a class="title" href="/2024/02/19/Docker%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker学习笔记">Docker学习笔记</a><time datetime="2024-02-19T05:08:06.000Z" title="发表于 2024-02-19 13:08:06">2024-02-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/18/%E7%AE%97%E6%B3%95%E4%BD%9C%E4%B8%9A/" title="算法作业">算法作业</a><time datetime="2023-09-18T14:17:15.000Z" title="发表于 2023-09-18 22:17:15">2023-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/05/Maven+Mvc+Mybatis/" title="SSM整合"><img src="https://pic.imgdb.cn/item/64f99294661c6c8e5457829f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SSM整合"/></a><div class="content"><a class="title" href="/2023/08/05/Maven+Mvc+Mybatis/" title="SSM整合">SSM整合</a><time datetime="2023-08-05T02:47:48.000Z" title="发表于 2023-08-05 10:47:48">2023-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/05/Spring6/" title="Spring6"><img src="https://pic.imgdb.cn/item/64f98fa4661c6c8e54568355.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring6"/></a><div class="content"><a class="title" href="/2023/08/05/Spring6/" title="Spring6">Spring6</a><time datetime="2023-08-05T02:47:48.000Z" title="发表于 2023-08-05 10:47:48">2023-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Java网络编程"><img src="https://pic.imgdb.cn/item/64f98fa0661c6c8e545682bc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java网络编程"/></a><div class="content"><a class="title" href="/2023/08/03/Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="Java网络编程">Java网络编程</a><time datetime="2023-08-03T06:50:20.000Z" title="发表于 2023-08-03 14:50:20">2023-08-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Jason</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://infinitas.top">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>